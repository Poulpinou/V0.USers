
<tr data-link=<%= "#{contact_path(contact.id)}" %>
    <% if contact.state == "new" %>
        class="success"
    <% end %>
>    
    <th><%= contact.sender %></th>
    <th><%= contact.object %></th>
    <th><%= contact.ago %></th>
    <th>
        <% if contact.state == "fav" %>
            <hr id="star-five">
        <% end %>
    </th>
    <th onmouseover="falsify()" onmouseout="truthify()"> <%= button_delete_with_icon("<i class='fa fa-trash-o' aria-hidden='true'></i>", contact, method: :delete, data: { confirm: 'Are you sure?' })%> </th>
</tr>
<script>
    $checktrash = false;

    function falsify(){$checktrash = false;}
    function truthify(){$checktrash = true;}

    $("tr[data-link]").click(function() {
        if ($checktrash){
            window.location = $(this).data("link")
        }
    })
</script>
